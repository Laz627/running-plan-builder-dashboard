@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== Design tokens (RGB tuples for rgb(var(--token))) ===== */
:root {
  --bg: 255 255 255;
  --fg: 17 24 39;
  --card: 255 255 255;
  --muted: 107 114 128;
  --ring: 0 0 0;
}
.dark {
  --bg: 12 12 14;
  --fg: 229 231 235;
  --card: 20 20 24;
  --muted: 156 163 175;
  --ring: 255 255 255;
}

/* ===== Base ===== */
html, body {
  overflow-x: hidden;               /* no horizontal page scroll */
  -webkit-text-size-adjust: 100%;
}
body {
  background-color: rgb(var(--bg));
  color: rgb(var(--fg));
}

/* ===== Layout helpers ===== */
/* Avoid clashing with Tailwind's .container class; use .page instead */
.page { @apply max-w-6xl mx-auto px-4; }

/* Safe area padding for full-bleed sections that still need gutters */
.container-edge {
  padding-left: max(16px, env(safe-area-inset-left));
  padding-right: max(16px, env(safe-area-inset-right));
}

/* ===== UI primitives ===== */
.card {
  @apply border border-gray-200 dark:border-gray-800
         bg-white dark:bg-[rgb(var(--card))]
         rounded-2xl shadow-card p-4 sm:p-6;
}
.pill {
  @apply inline-flex items-center gap-1 rounded-full
         border border-gray-200 dark:border-gray-700
         bg-gray-50 dark:bg-gray-800/60
         px-3 py-1 text-sm font-medium;
}
.navlink {
  @apply inline-flex items-center gap-2 rounded-xl px-3 py-2
         border border-transparent
         hover:border-gray-200 dark:hover:border-gray-700;
}
.btn {
  @apply inline-flex items-center justify-center rounded-xl
         px-4 py-2 bg-black text-white
         dark:bg-white dark:text-black font-medium;
}
.input {
  @apply w-full rounded-xl border border-gray-200 dark:border-gray-700
         bg-white dark:bg-gray-900 px-3 py-2 text-sm;
}

/* Tables: let content define width so it can overflow horizontally */
.table { @apply text-sm; width: max-content; }   /* <â€” key change */
.table th { @apply p-2 text-left text-gray-600 dark:text-gray-300; }
.table td { @apply p-2; }

/* If you ever need a full-width table inside a card, opt-in: */
.table-fluid { width: 100%; table-layout: auto; }

/* Charts */
:root { --chart-stroke: #111; }
.dark { --chart-stroke: #e5e7eb; }

/* Touch polish */
* { -webkit-tap-highlight-color: transparent; }

/* ===== Modal scroll utility (use inside Modal content) ===== */
.modal-scroll {
  overflow-y: auto;
  overflow-x: auto;                 /* allow horizontal scroll if needed */
  overscroll-behavior: contain;     /* prevent scroll chaining */
  -webkit-overflow-scrolling: touch;/* iOS momentum */
  min-width: 0;                     /* avoid flex/grid children forcing width */
}

/* Horizontal scroll area for cards/tables on mobile */
.scroll-x {
  overflow-x: auto;
  overscroll-behavior: contain;      /* don't bubble to page */
  -webkit-overflow-scrolling: touch; /* iOS momentum */
  touch-action: pan-x;               /* capture horizontal swipes */
}

